import { assertEquals } from "@std/assert";

import { lenLongestFibSubseq } from "./main.ts";

const arr = [
  193, 3931, 5403, 6322, 7997, 11671, 12075, 12744, 14929, 19780, 19892, 22630,
  22891, 23108, 24076, 24737, 25008, 25524, 25571, 25927, 26366, 26488, 27456,
  28770, 29243, 29364, 31211, 34344, 34395, 35438, 35782, 36500, 36736, 38235,
  38495, 39058, 39428, 39741, 40933, 42510, 42647, 43080, 43511, 45049, 45690,
  46228, 48837, 48917, 49214, 51299, 51564, 51884, 56146, 59084, 61175, 61970,
  64549, 64580, 64604, 67854, 68259, 72513, 72519, 72553, 74768, 75338, 81358,
  81752, 82646, 83043, 84231, 85860, 89288, 90639, 91166, 92511, 94656, 99092,
  99995, 100641, 100651, 100883, 102871, 105682, 106356, 106402, 107960, 109163,
  109561, 110146, 111614, 114555, 115521, 115962, 117211, 118344, 120974,
  124171, 125252, 126891, 128424, 128564, 129509, 130150, 130472, 130846,
  131004, 131965, 132018, 132029, 133675, 137205, 137457, 139003, 139801,
  143190, 143415, 143939, 144133, 145500, 146562, 148510, 151133, 152096,
  153737, 153950, 161192, 161682, 163066, 163684, 166017, 168298, 170078,
  172226, 172459, 172480, 174367, 175769, 179551, 179848, 179890, 180621,
  183143, 183451, 184220, 184654, 186526, 187215, 192908, 192915, 193011,
  197285, 197861, 198818, 199279, 199562, 202490, 204717, 205441, 208252,
  208266, 209076, 209124, 212614, 213017, 213626, 215479, 215534, 216435,
  217411, 219537, 220416, 221314, 223369, 223589, 223607, 226185, 227154,
  228939, 229355, 230865, 234005, 235688, 236374, 239000, 239048, 239121,
  240533, 240594, 240857, 241017, 242479, 243428, 245782, 248591, 249049,
  249589, 251441, 252343, 253349, 257086, 257973, 258106, 258215, 258728,
  262357, 262853, 263712, 266381, 267986, 269300, 270847, 271135, 272491,
  274534, 275071, 275755, 276040, 278542, 279901, 282508, 283594, 283841,
  284062, 285110, 288409, 289951, 290495, 291005, 293485, 293714, 296041,
  296998, 298301, 298547, 298707, 302452, 303668, 304790, 305085, 305760,
  306250, 308184, 309427, 310983, 312492, 315395, 315503, 318208, 319058,
  320243, 322594, 323234, 325609, 325965, 326113, 326661, 330505, 331230,
  331429, 332978, 333538, 334240, 337022, 337891, 341330, 342008, 342146,
  343983, 344973, 345292, 345657, 346504, 346561, 347477, 348605, 348956,
  349051, 350624, 350878, 351424, 351485, 352080, 353307, 353426, 353607,
  357398, 361221, 361345, 361873, 363861, 365475, 366154, 366295, 370065,
  370702, 371322, 371444, 373826, 374644, 380984, 381646, 381887, 381945,
  381983, 383219, 384169, 384968, 385012, 385174, 385807, 386344, 387186,
  388121, 389613, 390689, 391064, 391689, 392124, 393943, 395060, 397418,
  398184, 400038, 400956, 401511, 402690, 402941, 404015, 404181, 404760,
  413584, 415003, 415499, 416069, 417094, 422957, 423877, 424938, 425647,
  426276, 427871, 428195, 428328, 428996, 429057, 429988, 430071, 431325,
  432716, 433637, 438553, 440740, 441348, 442130, 444521, 445693, 448441,
  448816, 449665, 450230, 450668, 450859, 451369, 451505, 453591, 455938,
  458659, 460375, 463112, 463730, 464288, 465679, 466666, 467144, 468405,
  468731, 478393, 478478, 479697, 480206, 480449, 480555, 480975, 481896,
  482424, 483519, 483826, 485611, 485906, 486413, 486757, 487005, 488291,
  490062, 491717, 493808, 494485, 495561, 496246, 498443, 502074, 504638,
  504856, 505570, 506150, 506559, 507897, 510584, 515153, 516724, 517102,
  517221, 517626, 518351, 519001, 519372, 519897, 520223, 520547, 521934,
  523547, 523751, 526338, 527185, 528991, 529874, 530407, 530465, 530920,
  533417, 533438, 534110, 534746, 537532, 539540, 540145, 540650, 541015,
  541027, 543009, 546842, 548124, 548982, 552825, 554980, 557331, 557502,
  558853, 560351, 564300, 565099, 568203, 568612, 570336, 571641, 572928,
  573623, 573749, 574166, 574772, 575801, 575848, 576098, 576278, 576413,
  576542, 577138, 577410, 579796, 579897, 580539, 580821, 581101, 581205,
  581348, 582134, 582146, 582875, 583923, 584132, 584169, 586196, 591172,
  591750, 593063, 595255, 595838, 596029, 596052, 596122, 597558, 599693,
  600612, 600686, 601585, 602092, 604586, 606244, 606537, 608302, 610142,
  614013, 614941, 615020, 615098, 616995, 619305, 619777, 620381, 620804,
  622245, 622661, 623094, 623986, 626259, 626299, 626893, 627720, 628863,
  630175, 633425, 634941, 636237, 639146, 639646, 641192, 641612, 641733,
  642642, 643522, 643732, 644709, 644948, 645691, 645775, 647216, 647364,
  647591, 647616, 651072, 655002, 656934, 657999, 658130, 660661, 662684,
  663094, 663700, 666305, 669039, 669127, 673693, 675009, 675983, 677228,
  677275, 678454, 678831, 679455, 681779, 681814, 683663, 686061, 686321,
  689773, 694308, 694836, 694961, 697024, 699141, 699356, 699674, 699806,
  701684, 702098, 703135, 704420, 706762, 707372, 708648, 709688, 710720,
  711180, 711566, 713892, 714972, 718685, 719366, 719373, 724525, 724829,
  725190, 725699, 725825, 726643, 728624, 728851, 731291, 734850, 735485,
  736484, 736927, 737222, 738323, 738545, 739470, 740625, 740898, 746583,
  747473, 750673, 752783, 753596, 754923, 755699, 757000, 760484, 760664,
  761580, 764466, 765283, 765575, 767256, 768841, 770759, 770766, 771293,
  771910, 774473, 774631, 775195, 777333, 778292, 778584, 778651, 778999,
  780101, 781410, 781822, 783206, 784446, 787142, 787940, 788066, 790294,
  791143, 792441, 792450, 795950, 796484, 797203, 797675, 798214, 799065,
  801012, 801232, 801253, 802510, 802580, 802922, 804754, 805224, 805438,
  807084, 809421, 811290, 813701, 813937, 813952, 815540, 815730, 819294,
  820565, 821550, 823523, 825489, 827280, 828038, 828141, 831686, 831973,
  833100, 833308, 833743, 834701, 834845, 835058, 835173, 835948, 837198,
  837996, 839484, 839961, 844423, 844861, 849669, 850382, 852277, 852473,
  853075, 854744, 855756, 856294, 856357, 857892, 860043, 860993, 861740,
  862661, 865736, 866371, 867373, 867835, 869086, 872230, 873360, 874664,
  875945, 882375, 883892, 884144, 887296, 887689, 889738, 890756, 892243,
  893755, 894713, 895803, 895874, 896497, 898649, 899706, 900309, 901338,
  901832, 904221, 904331, 904595, 908126, 908882, 909520, 912231, 912410,
  913488, 915524, 916243, 916525, 918731, 920328, 920549, 922821, 922905,
  924210, 927313, 927693, 928443, 930682, 930940, 933091, 933804, 935342,
  937635, 943838, 946596, 948084, 950776, 952687, 957120, 959030, 959104,
  959806, 960320, 960888, 965320, 966881, 967226, 969456, 970217, 972541,
  972669, 973081, 974470, 974946, 975376, 976032, 976996, 978372, 979581,
  979893, 982781, 984130, 985018, 985073, 985134, 988381, 989187, 992251,
  994086, 995235, 997916, 998948,
];

Deno.test(function lenLongestFibSubseqTest() {
  assertEquals(lenLongestFibSubseq([1, 2, 3, 4, 5, 6, 7, 8]), 5);
  assertEquals(
    lenLongestFibSubseq([1, 2, 3, 6, 7, 8, 9, 10, 12, 14, 21, 33]),
    5,
  );
  assertEquals(lenLongestFibSubseq([1, 2, 5, 6, 11, 13, 15, 17, 28]), 6);
  assertEquals(lenLongestFibSubseq([2, 5, 6, 7, 8, 10, 12, 17, 24, 41, 65]), 5);
  assertEquals(
    lenLongestFibSubseq([2, 4, 7, 8, 9, 10, 14, 15, 18, 23, 32, 50]),
    5,
  );
  assertEquals(
    lenLongestFibSubseq([2, 4, 7, 8, 9, 10, 14, 15, 18, 23, 32, 50]),
    5,
  );
  assertEquals(lenLongestFibSubseq(arr), 3);
});
